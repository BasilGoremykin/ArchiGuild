# ADR.003 Использование MongoDB в качестве базы данных для системы конференции

* Статус: Предложено
* Автор: vvgoremy10@mts.ru

## Контекст
В связи с желанием маркетинга использовать систему конференций как LMS систему и добавлением новых атрибутов данных (план мероприятий, ссылка на материалы, текст домашнего задания и пр.), возникла необходимость пересмотреть текущую реляционную базу данных. MongoDB предлагается как потенциальное решение для более гибкого управления данными и поддержки возможного расширения функционала.

## Варианты решения
### Вариант 1. Оставить PostgreSQL в качестве системы хранения
PostgreSQL - это мощная реляционная база данных, которая уже используется в проекте.
* **Плюсы**
  * Нет необходимости в переходе и миграции данных
  * Поддержка ACID-транзакций
  * Хорошо подходит для структукрированных данных и сложных запросов
  **Минусы**
  * Ограниченная гибкость в случае добавления новых атрибутов данных
  * Сложная поддержка в случае частого изменения структуры данных
### Вариант 2. Перевести систему конференции на MongoDB
MongoDB - это NoSQL база данных, предлагающая большую гибкость в управлении данными.
* **Плюсы**
  * Большая гибкость для работы с данными, включая добавление новых атрибутов
  * Хорошо подходит для нереляционных или полуструктурированных данных
  * Масштабируемость и производительность
  **Минусы**
  * Требует миграции данных из текущей базы данных
  * Может быть сложнее в управлении и поддержке
  * Нет полной поддержки ACID-транзакций (хотя MongoDB в последних версиях добавила поддержку многодокументных транзакций)
### Вариант 3. Использовать и PostgreSQL, и MongoDB, но для разных сервисов в системе конференции
Данный подход предполагает использование обеих систем для разных частей проекта в зависимости от требований
* **Плюсы**
  * Гибкость в выборе подходящего инструмента для каждой задачи
  * Возможность использовать преимущества обоих подходов
  **Минусы**
  * Увеличивается сложность поддержки и управления двумя базами
## Решение
После тщательного анализа и с учетом всех факторов, мы решили использовать гибридный подход и применить как MongoDB, так и PostgreSQL в разных областях нашего проекта. Это позволит нам наиболее эффективно использовать преимущества каждой системы.

Мы сохраняем PostgreSQL для сервисов, которые имеют структурированные данные и требуют сложных запросов, таких как микросервисы расписаний, обратной связи и, возможно, сервис подачи заявок на доклад. Это позволит нам сохранить устойчивость и эффективность этих компонентов.

В то же время, мы будем использовать MongoDB для нового сервиса домашних заданий (и иных, которые могут появится для поддержки функционала LMS). Этот сервис будет предоставлять опциональные задания для зрителей после лекции. По своей природе, эти данные будут менее структурированы и могут часто меняться, в зависимости от того, кто решит взять и выполнить задание. Использование MongoDB позволит нам легко добавлять новые атрибуты и обеспечивать гибкость в управлении этими данными, что крайне важно для поддержки динамично развивающегося функционала LMS.
## Последствия 
Принятие такого решения приведет к созданию более гибкой и устойчивой системы, которая может быстро адаптироваться к новым требованиям. Мы сможем использовать сильные стороны каждой системы хранения данных, минимизируя при этом их слабые стороны.

Однако, стоит отметить, что этот подход увеличивает сложность нашей системы и потребует дополнительных ресурсов для поддержки и управления двумя базами данных. Мы уверены, что с нашей командой профессионалов мы сможем успешно справиться с этими вызовами и обеспечить высокое качество нашего продукта.